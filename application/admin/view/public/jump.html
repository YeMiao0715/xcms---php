{extend name="public:base"}
{block name="head"}
<link rel="stylesheet" href="__ADCSS__/public/jump.css">
<script src="__ADJS__/public/jump.js"></script>
<script src="__ADJS__/public/css.js"></script>
{/block}
{block name="main"}
<div class="system-message">
	{php}
		switch ($code){
   	  case 1:
   	  	echo "<div class='loader'>
				  <div class='loader_overlay'></div>
				  <div class='loader_cogs'>
				    <div class='loader_cogs__top'>
				      <div class='top_part'></div>
				      <div class='top_part'></div>
				      <div class='top_part'></div>
				      <div class='top_hole'></div>
				    </div>
				    <div class='loader_cogs__left'>
				      <div class='left_part'></div>
				      <div class='left_part'></div>
				      <div class='left_part'></div>
				      <div class='left_hole'></div>
				    </div>
				    <div class='loader_cogs__bottom'>
				      <div class='bottom_part'></div>
				      <div class='bottom_part'></div>
				      <div class='bottom_part'></div>
				      <div class='bottom_hole'></div>
				    </div>
				  </div>
				</div>";
   	  	echo "<p class=\"success\">";
        echo(strip_tags($msg));
        echo "</p>";
    	break;    		
    	case 0:
    		echo "<h1>:)</h1>"."<p class=\"error\">";
        echo(strip_tags($msg));
        echo "</p>";      
      break;
    }
	{/php}
	<p class="detail"></p>
  <p class="jump">
      页面自动 <a id="href" href="{php} echo($url);{/php}">跳转</a> 等待时间： <b id="wait">{php} echo($wait);{/php}</b>
  </p>
</div>
<script type="text/javascript">
    (function(){
        var wait = document.getElementById('wait'),
            href = document.getElementById('href').href;
        var interval = setInterval(function(){
            var time = --wait.innerHTML;
            if(time <= 0) {
                location.href = href;
                clearInterval(interval);
            };
        }, 1000);
    })();
</script>
{/block}